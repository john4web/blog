<!DOCTYPE html>
<html lang="de">

<head>
  <title>
  Das Strategy Pattern ¬∑ gersti.at
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Johannes Gerstbauer">
<meta name="description" content="Artikel, der das GoF Strategy Design Pattern erkl√§rt.">
<meta name="keywords" content="blog, developer, software, engineer">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Das Strategy Pattern"/>
<meta name="twitter:description" content="Artikel, der das GoF Strategy Design Pattern erkl√§rt."/>

<meta property="og:title" content="Das Strategy Pattern" />
<meta property="og:description" content="Artikel, der das GoF Strategy Design Pattern erkl√§rt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gersti.at/de/posts/strategy-pattern/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-04-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-04-05T00:00:00+00:00" /><meta property="og:site_name" content="gersti.at" />




<link rel="canonical" href="https://gersti.at/de/posts/strategy-pattern/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.e1bdf152d93b060b06ba5d496486ed9c201a8b95d335e035beb5faebe3b61cad.css" integrity="sha256-4b3xUtk7BgsGul1JZIbtnCAai5XTNeA1vrX66&#43;O2HK0=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/de">
      gersti.at
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/de/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/de/about/">√úber mich</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/posts/strategy-pattern/">üá¨üáß</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://gersti.at/de/posts/strategy-pattern/">
              Das Strategy Pattern
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-04-05T00:00:00Z">
                April 5, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              6 Minuten Lesezeit
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <p>Dieser Blog Artikel erkl√§rt das GoF Strategy Design Pattern. Die Beispiele wurden in Java verfasst.</p>
<figure><img src="/images/strategy-pattern/duck.jpg"
         alt="Eine Ente kann fliegen, quacken (und wahrscheinlich kann sie noch viele andere Sachen). Image-Source: Pixabay"/><figcaption>
            <p>Eine Ente kann fliegen, quacken (und wahrscheinlich kann sie noch viele andere Sachen). <a href="https://pixabay.com/photos/duck-mallard-bird-pond-plumage-8510483/"  class="external-link" target="_blank" rel="noopener">Image-Source: Pixabay</a></p>
        </figcaption>
</figure>

<h2 id="welches-problem-l√∂st-das-strategy-pattern">
  Welches Problem l√∂st das Strategy Pattern?
  <a class="heading-link" href="#welches-problem-l%c3%b6st-das-strategy-pattern">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Angenommen, wir haben eine <code>Duck</code>-Klasse. Und dann haben wir eine <code>CityDuck</code> (die in der Stadt lebt) und eine <code>WildDuck</code> (die im Wald lebt). Wir verwenden Vererbung ‚Äì also CityDuck und WildDuck erben von Duck. Die Unterklassen sind daf√ºr verantwortlich, ihre eigene Version der <code>display()</code>-Methode zu implementieren. Wildenten k√∂nnen sich zum Beispiel anders anzeigen lassen als Stadtenten. Sie m√ºssen also die <code>display()</code>-Methode √ºberschreiben. Die <code>quack()</code>-Methode wird jedoch von allen diesen Unterklassen gemeinsam genutzt. Hier wird die Vererbung also zur Codewiederverwendung genutzt.</p>
<figure><img src="/images/strategy-pattern/1.svg"
         alt="CityDuck und WildDuck erben von Duck"/><figcaption>
            <p><code>CityDuck</code> und <code>WildDuck</code> erben von <code>Duck</code></p>
        </figcaption>
</figure>

<p>Was ist das Problem hier? Das Problem ist <strong>VER√ÑNDERUNG</strong> (die st√§ndig passiert). Die einzige Konstante in der Softwareentwicklung ist &ldquo;Ver√§nderung&rdquo;! Wenn sich Anforderungen √§ndern, ist unser aktuelles Softwaredesign m√∂glicherweise nicht mehr f√ºr die neuen Anforderungen geeignet. Ein Beispiel f√ºr eine solche √Ñnderung k√∂nnte das folgende sein:</p>
<p>Was ist, wenn wir eine weitere Methode hinzuf√ºgen, zum Beispiel <code>fly()</code>? Denn Enten k√∂nnen fliegen. Wir f√ºgen die Methode in der Elternklasse <code>Duck</code> hinzu. Aber dann m√∂chten wir eine neue Klasse namens <code>RubberDuck</code> einf√ºhren, die von <code>Duck</code> erbt. <code>RubberDuck</code> hat ihre eigene <code>display()</code>-Methode. Aber Gummienten k√∂nnen nicht fliegen. Jetzt haben wir ein Problem! Gummienten k√∂nnen nicht fliegen, erben jedoch die <code>fly()</code>-Methode von ihrer Elternklasse <code>Duck</code> ‚Äì&gt; das ist falsch! ‚ö†Ô∏è</p>
<figure><img src="/images/strategy-pattern/2.svg"
         alt="RubberDuck erbt die fly()-Methode! Jetzt kann jeder, der ein RubberDuck-Objekt verwendet, die fly()-Methode auf diesem Objekt aufrufen, was nicht m√∂glich sein sollte, da Gummienten ja nicht fliegen k√∂nnen.‚ö†Ô∏è"/><figcaption>
            <p><code>RubberDuck</code> erbt die <code>fly()</code>-Methode! Jetzt kann jeder, der ein <code>RubberDuck</code>-Objekt verwendet, die <code>fly()</code>-Methode auf diesem Objekt aufrufen, was nicht m√∂glich sein sollte, da Gummienten ja nicht fliegen k√∂nnen.‚ö†Ô∏è</p>
        </figcaption>
</figure>

<p>Und was, wenn wir eine neue Klasse namens <code>MountainDuck</code> (die in den Bergen lebt) hinzuf√ºgen wollen? Diese Ente implementiert ihre eigene <code>display()</code>-Methode. Aber sie implementiert auch ihre eigene <code>fly()</code>-Methode, weil diese Ente auf eine bestimmte Art fliegt (zum Beispiel ultraschnell). Und dann f√ºgen wir eine neue Klasse namens <code>CloudDuck</code> hinzu. Diese Ente √ºberschreibt ebenfalls die Methoden <code>display()</code> und <code>fly()</code>. Aber die <code>CloudDuck</code> fliegt EXAKT genauso wie die <code>MountainDuck</code>. Was machen wir jetzt? Wir k√∂nnen den gleichen Code der <code>MountainDuck</code> nicht wiederverwenden. Also m√ºssen wir duplizieren (copy and paste). Und das ist sehr, sehr schlecht! ‚ö†Ô∏è (Vgl. DRY-Prinzip)</p>
<figure><img src="/images/strategy-pattern/3.svg"/>
</figure>

<p>Manche w√ºrden wshl. an dieser Stelle sagen, dass man einige dieser Probleme mit &ldquo;mehr Vererbung&rdquo; l√∂sen k√∂nnte. Zum Beispiel k√∂nnte man eine neue Basisklasse einf√ºhren, von der <code>MountainDuck</code> und <code>CloudDuck</code> erben. Aber je mehr Klassen man erstellt von denen wiederum andere erben, desto &ldquo;unflexibler&rdquo; wird das alles.</p>
<p>Das Problem dabei ist, dass man kein Verhalten zwischen Klassen in derselben Hierarchie (horizontal) teilen kann. Vererbung funktioniert nur, indem Code von oben nach unten weitergegeben wird.</p>
<figure><img src="/images/strategy-pattern/4.svg"
         alt="Wenn es um Vererbung geht, kann Code nicht zwischen Klassen geteilt werden, die sich in derselben Vererbungshierarchie befinden."/><figcaption>
            <p>Wenn es um Vererbung geht, kann Code nicht zwischen Klassen geteilt werden, die sich in derselben Vererbungshierarchie befinden.</p>
        </figcaption>
</figure>

<p>Die L√∂sung f√ºr Probleme mit Vererbung ist nicht &ldquo;mehr Vererbung&rdquo;. Die L√∂sung ist <strong>Composition</strong>! Und genau das macht das Strategy-Pattern.</p>
<h2 id="√ºberblick">
  √úberblick
  <a class="heading-link" href="#%c3%bcberblick">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Warum ist das Strategy Pattern so n√ºtzlich? Wegen der Flexibilit√§t! Bei diesem Pattern werden Verhaltensweisen aus einer Klasse (Context) in andere Klassen (Concrete Strategies) ausgelagert und via Interfaces lose an die Klasse (Context) gekoppelt. Die Kontext Klasse ruft dann lediglich den Code der konkreten Strategies auf. Dadurch k√∂nnen Objekte und deren Verhaltensweisen komplett easy zusammengebaut werden. Hier ein Beispiel, wie ein Client das Strategy Pattern verwenden k√∂nnte:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> 
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">Duck</span> <span class="n">duck1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Duck</span><span class="o">(</span><span class="k">new</span> <span class="n">LowFlying</span><span class="o">(),</span> <span class="k">new</span> <span class="n">LoudQuacking</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">	<span class="n">duck1</span><span class="o">.</span><span class="na">fly</span><span class="o">();</span> <span class="c1">// prints &#34;Low Flying&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">duck1</span><span class="o">.</span><span class="na">quack</span><span class="o">();</span> <span class="c1">// prints &#34;Loud Quacking&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">Duck</span> <span class="n">duck2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Duck</span><span class="o">(</span><span class="k">new</span> <span class="n">HighFlying</span><span class="o">(),</span> <span class="k">new</span> <span class="n">QuietQuacking</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">	<span class="n">duck2</span><span class="o">.</span><span class="na">fly</span><span class="o">();</span> <span class="c1">// prints &#34;High Flying&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">duck2</span><span class="o">.</span><span class="na">quack</span><span class="o">();</span> <span class="c1">// prints &#34;Quiet Quacking&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">}</span>
</span></span></code></pre></div><p>Die Verhaltensweisen werden den Enten via Dependency Injection √ºbergeben.</p>
<figure><img src="/images/strategy-pattern/strategy.jpg"
         alt="Objekte werden mit Verhaltensweisen zusammengebaut (lose gekoppelt)."/><figcaption>
            <p>Objekte werden mit Verhaltensweisen zusammengebaut (lose gekoppelt).</p>
        </figcaption>
</figure>

<p>Das Strategy-Pattern ist ein Paradebeispiel daf√ºr, dass Composition besser ist als Inheritance. Wir brauchen Vererbung viel weniger, als wir denken.</p>
<p>Die konkreten Implementierungen (LoudQuacking, QuietQuacking etc.) k√∂nnen sich beliebig √§ndern, ohne dass der Code der Kontextklasse (Duck) ge√§ndert werden muss. Und genau das ist die St√§rke des Strategy-Patterns!</p>
<h2 id="das-pattern-selbst">
  Das Pattern selbst
  <a class="heading-link" href="#das-pattern-selbst">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>So sieht das vollst√§ndige Pattern in UML (Unified Modeling Language) aus:</p>
<figure><img src="/images/strategy-pattern/5.svg"
         alt="UML Diagramm des Strategy Patterns."/><figcaption>
            <p>UML Diagramm des Strategy Patterns.</p>
        </figcaption>
</figure>

<p>Die <code>Context</code>-Klasse hat ein oder mehrere Objekte vom Typ Strategy als Membervariable. Die Membermethoden der <code>Context</code>-Klasse rufen dann einfach die <code>behaviour()</code>-Methoden auf, die in den <code>ConcreteStrategy</code>-Klassen implementiert sind.</p>
<p>Im Folgenden wird das vollst√§ndige Enten-Beispiel in UML dargestellt. Im Gegensatz zum vorherigen UML-Diagramm zeigt dieses Beispiel, wie das Pattern mit mehreren Strategys (<code>IFlyBehaviour</code> und <code>IQuackBehaviour</code>) funktioniert:</p>
<figure><img src="/images/strategy-pattern/6.svg"
         alt="Ein Beispiel f√ºr das Strategy-Pattern in Action."/><figcaption>
            <p>Ein Beispiel f√ºr das Strategy-Pattern in Action.</p>
        </figcaption>
</figure>

<h2 id="definition-des-strategy-patterns">
  Definition des Strategy-Patterns
  <a class="heading-link" href="#definition-des-strategy-patterns">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Das urspr√ºngliche GoF-Design-Pattern-Buch definiert das Strategy-Pattern wie folgt:
<strong><em>&ldquo;Define a family of algorithms, encapsulate each one, and make them interchangeable. Strategy lets the algorithm vary independently from clients that use it.&rdquo;</em></strong></p>
<p>Im Folgenden werde ich versuchen, jede Phrase dieser Definition einzeln zu erkl√§ren. Hinweis: In dieser urspr√ºnglichen Definition bedeutet der Begriff <em>&ldquo;Familie von Algorithmen&rdquo;</em> dasselbe wie &ldquo;Strategy&rdquo;. Im Folgenden wird haupts√§chlich das Wort Strategy anstelle von <em>&ldquo;Familie von Algorithmen&rdquo;</em> verwendet.</p>
<p><strong><em>&ldquo;Family of algorithms&rdquo;</em>:</strong><br>
In diesem Beispiel k√∂nnen die Klassen IFlyBehavior und IQuackBehavior als &ldquo;Familien&rdquo; angesehen werden.</p>
<p><strong><em>&ldquo;Algorithms&rdquo;</em>:</strong><br>
Sind in diesem Fall die Verhaltensweisen (= konkreten implementierungen der Strategy). Das sind LowFlying, Highflying, LoudQuacking und QuietQuacking. LowFlying und Highflying geh√∂ren zur Familie IFlyBehavior. LoudQuacking und QuietQuacking geh√∂ren zur Familie IQuackBehavior.</p>
<p><strong><em>&ldquo;Strategy lets the algorithm vary independently from clients that use it&rdquo;</em>:</strong> <br>
Jede &ldquo;Concrete Strategy Class&rdquo; hat ihr eigenes, unabh√§ngiges Verhalten. Diese konkreten implementierungen der Familien IFlyBehavior und IQuackBehavior k√∂nnen komplett unterschiedlich zueinander sein.</p>
<p><strong><em>&ldquo;make them interchangeable&rdquo;</em>:</strong><br>
Konkrete Behaviors k√∂nnen ganz leicht ausgetauscht werden (solange sie dasselbe Interface implementieren).
z.B. kann man eine neue Klasse &ldquo;FastFlying&rdquo; einf√ºhren, die &ldquo;IFlyBehavior&rdquo; implementiert. Und schon kann man der <code>duck1</code> das Verhalten <code>new FastFlying()</code> anstatt dem Verhalten <code>new LowFlying()</code> √ºbergeben. Hier wird der Algorithmus von demjenigen entkoppelt, der den Algorithmus verwendet. Wer auch immer den Algorithmus verwendet, ist nicht gezwungen, √Ñnderungen vorzunehmen, wenn einer der Algorithmen ge√§ndert wird.</p>
<h2 id="wann-sollte-man-das-strategy-pattern-verwenden">
  Wann sollte man das Strategy-Pattern verwenden?
  <a class="heading-link" href="#wann-sollte-man-das-strategy-pattern-verwenden">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>
<p>Verwende das Strategy-Pattern, wenn du unterschiedliche Varianten eines Algorithmus innerhalb eines Objekts nutzen und zur Laufzeit von einem Algorithmus zu einem anderen wechseln m√∂chtest.</p>
</li>
<li>
<p>Verwende das Strategy-Pattern, wenn du viele √§hnliche Klassen hast, die sich nur darin unterscheiden, wie sie ein bestimmtes Verhalten ausf√ºhren.</p>
</li>
<li>
<p>Verwende das Pattern, um die Business-Logic einer Klasse von den Implementierungsdetails der Algorithmen zu isolieren, die im Kontext dieser Logik m√∂glicherweise nicht so wichtig sind.</p>
</li>
<li>
<p>Verwende das Pattern, wenn deine Klasse ein riesiges &ldquo;Conditional Statement&rdquo; enth√§lt, das zwischen verschiedenen Varianten desselben Algorithmus wechselt.</p>
</li>
</ul>
<h2 id="quellen">
  Quellen
  <a class="heading-link" href="#quellen">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="b√ºcher">
  B√ºcher
  <a class="heading-link" href="#b%c3%bccher">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p>Erich Gamma, Richard Helm, Ralph Johnson und John Vlissides: <em>Design Patterns ‚Äì Elements of Reusable Object-Oriented Software</em>, Verlag: Addison-Wesley, Jahr: 1995, ISBN: 0201633612</p>
</li>
<li>
<p>Eric Freeman, Elisabeth Robson, Kathy Sierra und Bert Bates: <em>Head First Design Patterns: Building Extensible and Maintainable Object-Oriented Software 2nd Edition</em>, Verlag: O&rsquo;REILLY, Jahr: 2021, ISBN: 9781492078005</p>
</li>
</ul>
<h3 id="videos">
  Videos
  <a class="heading-link" href="#videos">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Video von Christopher Okhravi: <em>Strategy Pattern ‚Äì Design Patterns (ep 1)</em>, URL: <a href="https://www.youtube.com/watch?v=v9ejT8FO-7I"  class="external-link" target="_blank" rel="noopener">https://www.youtube.com/watch?v=v9ejT8FO-7I</a>, Zuletzt aufgerufen: 13.09.2024.</li>
</ul>
<h3 id="webseiten">
  Webseiten
  <a class="heading-link" href="#webseiten">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p>Refactoring Guru Webseite: <em>Strategy</em>, URL: <a href="https://refactoring.guru/design-patterns/strategy"  class="external-link" target="_blank" rel="noopener">https://refactoring.guru/design-patterns/strategy</a>, Zuletzt aufgerufen: 13.09.2024.</p>
</li>
<li>
<p>Refactoring Guru Webseite: <em>Strategy in Java</em>, URL: <a href="https://refactoring.guru/design-patterns/strategy/java/example"  class="external-link" target="_blank" rel="noopener">https://refactoring.guru/design-patterns/strategy/java/example</a>, Zuletzt aufgerufen: 13.09.2024.</p>
</li>
</ul>

      </div>


      <footer>
        


        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
    2024
     Johannes Gerstbauer 
    ¬∑
    
    Gestaltet mit <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
