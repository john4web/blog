<!DOCTYPE html>
<html lang="de">

<head>
  <title>
  Das Strategy Pattern ¬∑ gersti.at
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Johannes Gerstbauer">
<meta name="description" content="Artikel, der das GoF Strategy Design Pattern erkl√§rt.">
<meta name="keywords" content="blog, developer, software, engineer">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Das Strategy Pattern"/>
<meta name="twitter:description" content="Artikel, der das GoF Strategy Design Pattern erkl√§rt."/>

<meta property="og:title" content="Das Strategy Pattern" />
<meta property="og:description" content="Artikel, der das GoF Strategy Design Pattern erkl√§rt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gersti.at/de/posts/strategy-pattern/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-09-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-09-12T00:00:00+00:00" /><meta property="og:site_name" content="gersti.at" />




<link rel="canonical" href="https://gersti.at/de/posts/strategy-pattern/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.e1bdf152d93b060b06ba5d496486ed9c201a8b95d335e035beb5faebe3b61cad.css" integrity="sha256-4b3xUtk7BgsGul1JZIbtnCAai5XTNeA1vrX66&#43;O2HK0=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/de">
      gersti.at
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/de/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/de/about/">√úber mich</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/posts/strategy-pattern/">üá¨üáß</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://gersti.at/de/posts/strategy-pattern/">
              Das Strategy Pattern
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-09-12T00:00:00Z">
                September 12, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              6 Minuten Lesezeit
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <p>Dieser Blog Artikel erkl√§rt das GoF Strategy Design Pattern. Die Beispiele wurden in Java verfasst.</p>
<figure><img src="/images/strategy-pattern/duck.jpg"
         alt="Eine Ente kann fliegen, quacken (und wahrscheinlich kann sie noch viele weitere Sachen). Image-Source: Pixabay"/><figcaption>
            <p>Eine Ente kann fliegen, quacken (und wahrscheinlich kann sie noch viele weitere Sachen). <a href="https://pixabay.com/photos/duck-mallard-bird-pond-plumage-8510483/"  class="external-link" target="_blank" rel="noopener">Image-Source: Pixabay</a></p>
        </figcaption>
</figure>

<h2 id="welches-problem-l√∂st-das-strategy-pattern">
  Welches Problem l√∂st das Strategy Pattern?
  <a class="heading-link" href="#welches-problem-l%c3%b6st-das-strategy-pattern">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Angenommen, wir haben eine <code>Duck</code>-Klasse. Und dann haben wir eine <code>CityDuck</code> (die in der Stadt lebt) und eine <code>WildDuck</code> (die im Wald lebt). Wir verwenden Vererbung ‚Äì also CityDuck und WildDuck erben von Duck. Die Unterklassen sind daf√ºr verantwortlich, ihre eigene Version der <code>display()</code>-Methode zu implementieren. Wildenten k√∂nnen sich zum Beispiel anders anzeigen lassen als Stadtenten. Sie m√ºssen also die <code>display()</code>-Methode √ºberschreiben. Die <code>quack()</code>-Methode wird jedoch von allen diesen Unterklassen gemeinsam genutzt. Hier wird die Vererbung also zur Codewiederverwendung genutzt.</p>
<figure><img src="/images/strategy-pattern/1.svg"
         alt="CityDuck und WildDuck erben von Duck"/><figcaption>
            <p><code>CityDuck</code> und <code>WildDuck</code> erben von <code>Duck</code></p>
        </figcaption>
</figure>

<p>Was ist das Problem hier? Das Problem ist <strong>VER√ÑNDERUNG</strong> (die st√§ndig passiert). Die einzige Konstante in der Softwareentwicklung ist &ldquo;Ver√§nderung&rdquo;! Wenn sich Anforderungen √§ndern, ist unser aktuelles Softwaredesign m√∂glicherweise nicht mehr f√ºr die neuen Anforderungen geeignet. Ein Beispiel f√ºr eine solche √Ñnderung k√∂nnte das folgende sein:</p>
<p>Was ist, wenn wir eine weitere Methode hinzuf√ºgen, zum Beispiel <code>fly()</code>? Denn Enten k√∂nnen fliegen. Wir f√ºgen die Methode in der Elternklasse <code>Duck</code> hinzu. Aber dann m√∂chten wir eine neue Klasse namens <code>RubberDuck</code> einf√ºhren, die von <code>Duck</code> erbt. <code>RubberDuck</code> hat ihre eigene <code>display()</code>-Methode. Aber Gummienten k√∂nnen nicht fliegen. Jetzt haben wir ein Problem! Gummienten k√∂nnen nicht fliegen, erben jedoch die <code>fly()</code>-Methode von ihrer Elternklasse <code>Duck</code> ‚Äì&gt; das ist falsch! ‚ö†Ô∏è</p>
<figure><img src="/images/strategy-pattern/2.svg"
         alt="RubberDuck erbt die fly()-Methode! Jetzt kann jeder, der ein RubberDuck-Objekt verwendet, die fly()-Methode auf diesem Objekt aufrufen, was nicht m√∂glich sein sollte, da Gummienten ja nicht fliegen k√∂nnen.‚ö†Ô∏è"/><figcaption>
            <p><code>RubberDuck</code> erbt die <code>fly()</code>-Methode! Jetzt kann jeder, der ein <code>RubberDuck</code>-Objekt verwendet, die <code>fly()</code>-Methode auf diesem Objekt aufrufen, was nicht m√∂glich sein sollte, da Gummienten ja nicht fliegen k√∂nnen.‚ö†Ô∏è</p>
        </figcaption>
</figure>

<p>And what if we wanna add a new class called <code>MountainDuck</code> (which lives in the mountains). This duck implements its own <code>display()</code> method. But it implements also its own <code>fly()</code> method because the duck has a specific way to fly (ultrafast for instance).
And then we add a new class called <code>CloudDuck</code>. This duck also overrides <code>display()</code> and <code>fly()</code> methods. But the cloud-duck flys EXACTLY the same as the mountain-duck. What are we doing now? We cannot reuse the same code from the mountain-duck. So we have to copy and paste. And that is very, very bad! ‚ö†Ô∏è (cf. DRY Principle)</p>
<figure><img src="/images/strategy-pattern/3.svg"/>
</figure>

<p>Some might say you could solve some of these problems with &ldquo;more inheritance&rdquo;. You could for instance introduce a new base class just for <code>MountainDuck</code> and <code>CloudDuck</code> where the both ducks are inheriting from. But the more classes you create and inherit from, the more &ldquo;inflexible&rdquo; all of that gets.</p>
<p>The problem is, that you can&rsquo;t share behaviour over classes that are in the same hierarchy (horizontally). Inheritance only works by sharing code from top to bottom.
<figure><img src="/images/strategy-pattern/4.svg"
         alt="When it comes to inheritance, code cannot be shared between classes which are in the same hierarchy."/><figcaption>
            <p>When it comes to inheritance, code cannot be shared between classes which are in the same hierarchy.</p>
        </figcaption>
</figure>
</p>
<p>The solution to problems with inheritance is not &ldquo;more inheritance&rdquo;. The solution is <strong>composition</strong>! And that&rsquo;s exactly what the strategy pattern does.</p>
<h2 id="overview">
  Overview
  <a class="heading-link" href="#overview">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Warum ist das Strategy Pattern so n√ºtzlich? Wegen der Flexibilit√§t! Bei diesem Pattern werden Verhaltensweisen aus einer Klasse (Context) in andere Klassen (Concrete Strategies) ausgelagert und via Interfaces lose an die Klasse (Context) gekoppelt. Die Kontext Klasse ruft dann lediglich den Code der konkreten Strategies auf. Dadurch k√∂nnen Objekte und deren Verhaltensweisen komplett easy zusammengebaut werden. Hier ein Beispiel, wie ein Client das Strategy Pattern verwenden k√∂nnte:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> 
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">Duck</span> <span class="n">duck1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Duck</span><span class="o">(</span><span class="k">new</span> <span class="n">LowFlying</span><span class="o">(),</span> <span class="k">new</span> <span class="n">LoudQuacking</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">	<span class="n">duck1</span><span class="o">.</span><span class="na">fly</span><span class="o">();</span> <span class="c1">// prints &#34;Low Flying&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">duck1</span><span class="o">.</span><span class="na">quack</span><span class="o">();</span> <span class="c1">// prints &#34;Loud Quacking&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">Duck</span> <span class="n">duck2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Duck</span><span class="o">(</span><span class="k">new</span> <span class="n">HighFlying</span><span class="o">(),</span> <span class="k">new</span> <span class="n">QuietQuacking</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">	<span class="n">duck2</span><span class="o">.</span><span class="na">fly</span><span class="o">();</span> <span class="c1">// prints &#34;High Flying&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">duck2</span><span class="o">.</span><span class="na">quack</span><span class="o">();</span> <span class="c1">// prints &#34;Quiet Quacking&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">}</span>
</span></span></code></pre></div><p>Die Verhaltensweisen werden den Enten via Dependency Injection √ºbergeben.</p>
<figure><img src="/images/strategy-pattern/strategy.jpg"
         alt="Objekte werden mit Verhaltensweisen zusammengebaut (lose gekoppelt)."/><figcaption>
            <p>Objekte werden mit Verhaltensweisen zusammengebaut (lose gekoppelt).</p>
        </figcaption>
</figure>

<p>Das Strategy-Pattern ist ein Paradebeispiel daf√ºr, dass Composition besser ist als Inheritance. We need Inheritance much much less than we believe.</p>
<p>The concrete implementations (LoudQuacking, QuietQuacking, etc.) can vary just as much as they want ‚Äì without having to change the code of the context class (Duck). And that is the power of the strategy pattern!</p>
<h2 id="the-pattern-itself">
  The Pattern itself
  <a class="heading-link" href="#the-pattern-itself">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>This is how the full pattern looks like in UML (Unified Modeling Language):</p>
<figure><img src="/images/strategy-pattern/5.svg"
         alt="UML Diagram of the Strategy Pattern."/><figcaption>
            <p>UML Diagram of the Strategy Pattern.</p>
        </figcaption>
</figure>

<p>The <code>Context</code> class holds one or more objects of type Strategy as member variable. The member methods of the <code>Context</code> class then simply call the <code>behaviour()</code> methods implemented in the <code>ConcreteStrategy</code> classes.</p>
<p>In the following, the full duck example is displayed in UML. In contrast to the UML above, the duck example shows how the pattern works with multiple Strategies (<code>IFlyBehaviour</code> and <code>IQuackBehaviour</code>):</p>
<figure><img src="/images/strategy-pattern/6.svg"
         alt="One example of the strategy pattern in action."/><figcaption>
            <p>One example of the strategy pattern in action.</p>
        </figcaption>
</figure>

<h2 id="intent-of-the-strategy-pattern">
  Intent of the strategy pattern
  <a class="heading-link" href="#intent-of-the-strategy-pattern">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>The original GoF Design-Pattern Book states the intent of the strategy pattern as follows:<br>
<strong><em>&ldquo;Define a family of algorithms, encapsulate each one, and make them interchangeable. Strategy lets the algorithm vary independently from clients that use it.&rdquo;</em></strong></p>
<p>In the following, I will try to explain each phrase of the intent individually. Note! In this original intent the term  <em>&ldquo;family of algorithms&rdquo;</em> means the same as &ldquo;strategy&rdquo;. In the following, the word strategy is mainly used instead of <em>&ldquo;family of algorithms&rdquo;</em>.</p>
<p><strong><em>&ldquo;Family of algorithms&rdquo;</em>:</strong><br>
in diesem Beispiel k√∂nnen die Klassen IFlyBehavior und IQuackBehavior als &ldquo;Familien&rdquo; angesehen werden.</p>
<p><strong><em>&ldquo;Algorithms&rdquo;</em>:</strong><br>
Sind in diesem Fall die Verhaltensweisen (= konkreten implementierungen der Strategy). Das sind LowFlying, Highflying, LoudQuacking und QuietQuacking. LowFlying und Highflying geh√∂ren zur Familie IFlyBehavior. LoudQuacking und QuietQuacking geh√∂ren zur Familie IQuackBehavior.</p>
<p><strong><em>&ldquo;Strategy lets the algorithm vary independently from clients that use it&rdquo;</em>:</strong> <br>
Jede &ldquo;Concrete Strategy Class&rdquo; hat ihr eigenes, unabh√§ngiges Verhalten. Diese konkreten implementierungen der Familien IFlyBehavior und IQuackBehavior k√∂nnen komplett unterschiedlich zueinander sein.</p>
<p><strong><em>&ldquo;make them interchangeable&rdquo;</em>:</strong><br>
Konkrete Behaviors k√∂nnen ganz leicht ausgetauscht werden (solange sie dasselbe Interface implementieren).
z.B. kann man eine neue Klasse &ldquo;FastFlying&rdquo; einf√ºhren, die &ldquo;IFlyBehavior&rdquo; implementiert. Und schon kann man der <code>duck1</code> das Verhalten <code>new FastFlying()</code> anstatt dem Verhalten <code>new LowFlying()</code> √ºbergeben. Here, the algorithm gets decoupled from the one that is using the algorithm. Whoever is using the algorithm is not forced to change when one of the algorithms is changed.</p>
<h2 id="when-should-you-use-this-pattern">
  When should you use this pattern?
  <a class="heading-link" href="#when-should-you-use-this-pattern">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>
<p>Use the Strategy pattern when you want to use different variants of an algorithm within an object and be able to switch from one algorithm to another during runtime.</p>
</li>
<li>
<p>Use the Strategy when you have a lot of similar classes that only differ in the way they execute some behavior.</p>
</li>
<li>
<p>Use the pattern to isolate the business logic of a class from the implementation details of algorithms that may not be as important in the context of that logic.</p>
</li>
<li>
<p>Use the pattern when your class has a massive conditional statement that switches between different variants of the same algorithm.</p>
</li>
</ul>
<h2 id="reference">
  Reference
  <a class="heading-link" href="#reference">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>
<p>Video from Christopher Okhravi: <a href="https://www.youtube.com/watch?v=v9ejT8FO-7I"  class="external-link" target="_blank" rel="noopener">https://www.youtube.com/watch?v=v9ejT8FO-7I</a></p>
</li>
<li>
<p>Book: Design Patterns ‚Äì Elements of Reusable Object-Oriented Software (1995 Addison-Wesley) by
Erich Gamma, Richard Helm, Ralph Johnson and John Vlissides</p>
</li>
<li>
<p>Refactoring Guru Website: <a href="https://refactoring.guru/design-patterns/strategy"  class="external-link" target="_blank" rel="noopener">https://refactoring.guru/design-patterns/strategy</a></p>
</li>
<li>
<p>Refactoring Guru Website: <a href="https://refactoring.guru/design-patterns/strategy/java/example"  class="external-link" target="_blank" rel="noopener">https://refactoring.guru/design-patterns/strategy/java/example</a></p>
</li>
<li>
<p>Book: Head First Design Patterns ‚Äì Building Extensible &amp; Maintainable Object-Oriented Software (2021 O&rsquo;REILLY) by Eric Freeman, Elisabeth Robson, Kathy Sierra and Bert Bates</p>
</li>
</ul>

      </div>


      <footer>
        


        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
    2024
     Johannes Gerstbauer 
    ¬∑
    
    Gestaltet mit <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
