<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  The Strategy Pattern ¬∑ gersti.at
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Johannes Gerstbauer">
<meta name="description" content="Article explaining the Strategy Design Pattern by Gang of Four.">
<meta name="keywords" content="blog, developer, software, engineer">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The Strategy Pattern"/>
<meta name="twitter:description" content="Article explaining the Strategy Design Pattern by Gang of Four."/>

<meta property="og:title" content="The Strategy Pattern" />
<meta property="og:description" content="Article explaining the Strategy Design Pattern by Gang of Four." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gersti.at/posts/strategy-pattern/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-09-11T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-09-11T00:00:00+00:00" />




<link rel="canonical" href="https://gersti.at/posts/strategy-pattern/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.e1bdf152d93b060b06ba5d496486ed9c201a8b95d335e035beb5faebe3b61cad.css" integrity="sha256-4b3xUtk7BgsGul1JZIbtnCAai5XTNeA1vrX66&#43;O2HK0=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      gersti.at
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">About</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/de/posts/strategy-pattern/">üá©üá™</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://gersti.at/posts/strategy-pattern/">
              The Strategy Pattern
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-09-11T00:00:00Z">
                September 11, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              6-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <p>This blog post offers an explanation of Strategy Design Pattern by Gang of Four. The examples are written in Java.</p>
<figure><img src="/images/strategy-pattern/duck.jpg"
         alt="A duck can fly and quack (and can do probably much more things). Image-Source: Pixabay"/><figcaption>
            <p>A duck can fly and quack (and can do probably much more things). <a href="https://pixabay.com/photos/duck-mallard-bird-pond-plumage-8510483/"  class="external-link" target="_blank" rel="noopener">Image-Source: Pixabay</a></p>
        </figcaption>
</figure>

<h2 id="the-problem-that-the-strategy-pattern-solves">
  The Problem that the strategy pattern solves
  <a class="heading-link" href="#the-problem-that-the-strategy-pattern-solves">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Let&rsquo;s say we have a <code>Duck</code> class. And then we have a <code>CityDuck</code> (living in the city) and a <code>WildDuck</code> (living in the forest). We use inheritance ‚Äì so <code>CityDuck</code> and <code>WildDuck</code> inherit from <code>Duck</code>. The subclasses are responsible for implementing their own version of the <code>display()</code> method. Wild-ducks can display themselves differently than city-ducks for instance. So they have to override the <code>display()</code> method. But the <code>quack()</code> method is shared amongst all these subclasses. Inheritance is used here for code reuse.</p>
<figure><img src="/images/strategy-pattern/1.svg"
         alt="CityDuck and WildDuck inherit from Duck"/><figcaption>
            <p><code>CityDuck</code> and <code>WildDuck</code> inherit from <code>Duck</code></p>
        </figcaption>
</figure>

<p>What is the problem here? The problem is <strong>CHANGE</strong> (which happens everytime). The only constant in software development is change! When requirements change, our current software design may not necessarily be appropriate for the incoming requirements. An example for such a change could be the following:</p>
<p>What if we have another method, for example <code>fly()</code>? Because ducks can fly. We add the method to the base class <code>Duck</code>. But then you want to introduce a new class called <code>RubberDuck</code> which inherits from <code>Duck</code>. <code>RubberDuck</code> has its own <code>display()</code> method. But rubber-ducks can&rsquo;t fly. Now we have a problem! rubber-ducks can&rsquo;t fly however they inherit the <code>fly()</code> method from their parent class <code>Duck</code> -&gt; which is wrong! ‚ö†Ô∏è</p>
<figure><img src="/images/strategy-pattern/2.svg"
         alt="RubberDuck inherits the fly() method! Now everyone who is using a RubberDuck object can call the fly() method on it which should not be possible because rubber-ducks can&amp;rsquo;t fly.‚ö†Ô∏è"/><figcaption>
            <p><code>RubberDuck</code> inherits the <code>fly()</code> method! Now everyone who is using a <code>RubberDuck</code> object can call the <code>fly()</code> method on it which should not be possible because rubber-ducks can&rsquo;t fly.‚ö†Ô∏è</p>
        </figcaption>
</figure>

<p>And what if we wanna add a new class called <code>MountainDuck</code> (which lives in the mountains). This duck implements its own <code>display()</code> method. But it implements also its own <code>fly()</code> method because the duck has a specific way to fly (ultrafast for instance).
And then we add a new class called <code>CloudDuck</code>. This duck also overrides <code>display()</code> and <code>fly()</code> methods. But the cloud-duck flys EXACTLY the same as the mountain-duck. What are we doing now? We cannot reuse the same code from the mountain-duck. So we have to copy and paste. And that is very, very bad! ‚ö†Ô∏è (cf. DRY Principle)</p>
<figure><img src="/images/strategy-pattern/3.svg"/>
</figure>

<p>Some might say you could solve some of these problems with &ldquo;more inheritance&rdquo;. You could for instance introduce a new base class just for <code>MountainDuck</code> and <code>CloudDuck</code> where the both ducks are inheriting from. But the more classes you create and inherit from, the more &ldquo;inflexible&rdquo; all of that gets.</p>
<p>The problem is, that you can&rsquo;t share behaviour over classes that are in the same hierarchy (horizontally). Inheritance only works by sharing code from top to bottom.
<figure><img src="/images/strategy-pattern/4.svg"
         alt="When it comes to inheritance, code cannot be shared between classes which are in the same hierarchy."/><figcaption>
            <p>When it comes to inheritance, code cannot be shared between classes which are in the same hierarchy.</p>
        </figcaption>
</figure>
</p>
<p>The solution to problems with inheritance is not &ldquo;more inheritance&rdquo;. The solution is <strong>composition</strong>! And that&rsquo;s exactly what the strategy pattern does.</p>
<h2 id="overview">
  Overview
  <a class="heading-link" href="#overview">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Why is the Strategy Pattern so useful? Because of its flexibility! In this pattern, behaviors are extracted from a class (called Context) into other classes (called Concrete Strategies) and loosely coupled to the class (Context) via interfaces. The context class then simply calls the code of the concrete strategies. This allows objects and their behaviors to be composed easily. Here‚Äôs an example of how a client might use the Strategy Pattern:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> 
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">Duck</span> <span class="n">duck1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Duck</span><span class="o">(</span><span class="k">new</span> <span class="n">LowFlying</span><span class="o">(),</span> <span class="k">new</span> <span class="n">LoudQuacking</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">	<span class="n">duck1</span><span class="o">.</span><span class="na">fly</span><span class="o">();</span> <span class="c1">// prints &#34;Low Flying&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">duck1</span><span class="o">.</span><span class="na">quack</span><span class="o">();</span> <span class="c1">// prints &#34;Loud Quacking&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">Duck</span> <span class="n">duck2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Duck</span><span class="o">(</span><span class="k">new</span> <span class="n">HighFlying</span><span class="o">(),</span> <span class="k">new</span> <span class="n">QuietQuacking</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">	<span class="n">duck2</span><span class="o">.</span><span class="na">fly</span><span class="o">();</span> <span class="c1">// prints &#34;High Flying&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">duck2</span><span class="o">.</span><span class="na">quack</span><span class="o">();</span> <span class="c1">// prints &#34;Quiet Quacking&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">}</span>
</span></span></code></pre></div><p>The behaviors are passed to the ducks via dependency injection.</p>
<figure><img src="/images/strategy-pattern/strategy.jpg"
         alt="Objekte werden mit Verhaltensweisen zusammengebaut (lose gekoppelt)."/><figcaption>
            <p>Objekte werden mit Verhaltensweisen zusammengebaut (lose gekoppelt).</p>
        </figcaption>
</figure>

<p>The Strategy Pattern is a prime example that composition is better than inheritance. We need Inheritance much much less than we believe.</p>
<p>The concrete implementations (LoudQuacking, QuietQuacking, etc.) can vary just as much as they want ‚Äì without having to change the code of the context class (Duck). And that is the power of the strategy pattern!</p>
<h2 id="the-pattern-itself">
  The Pattern itself
  <a class="heading-link" href="#the-pattern-itself">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>This is how the full pattern looks like in UML (Unified Modeling Language):</p>
<figure><img src="/images/strategy-pattern/5.svg"
         alt="UML Diagram of the Strategy Pattern."/><figcaption>
            <p>UML Diagram of the Strategy Pattern.</p>
        </figcaption>
</figure>

<p>The <code>Context</code> class holds one or more objects of type Strategy as member variable. The member methods of the <code>Context</code> class then simply call the <code>behaviour()</code> methods implemented in the <code>ConcreteStrategy</code> classes.</p>
<p>In the following, the full duck example is displayed in UML. In contrast to the UML above, the duck example shows how the pattern works with multiple Strategies (<code>IFlyBehaviour</code> and <code>IQuackBehaviour</code>):</p>
<figure><img src="/images/strategy-pattern/6.svg"
         alt="One example of the strategy pattern in action."/><figcaption>
            <p>One example of the strategy pattern in action.</p>
        </figcaption>
</figure>

<h2 id="intent-of-the-strategy-pattern">
  Intent of the strategy pattern
  <a class="heading-link" href="#intent-of-the-strategy-pattern">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>The original GoF Design-Pattern Book states the intent of the strategy pattern as follows:<br>
<strong><em>&ldquo;Define a family of algorithms, encapsulate each one, and make them interchangeable. Strategy lets the algorithm vary independently from clients that use it.&rdquo;</em></strong></p>
<p>In the following, I will try to explain each phrase of the intent individually. Note! In this original intent the term  <em>&ldquo;family of algorithms&rdquo;</em> means the same as &ldquo;strategy&rdquo;. In the following, the word strategy is mainly used instead of <em>&ldquo;family of algorithms&rdquo;</em>.</p>
<p><strong><em>&ldquo;Family of algorithms&rdquo;</em>:</strong><br>
In this example, the classes IFlyBehavior and IQuackBehavior can be seen as &lsquo;families&rsquo;.</p>
<p><strong><em>&ldquo;Algorithms&rdquo;</em>:</strong><br>
Algorithms are the behaviors (i.e., concrete implementations of the Strategy). These are LowFlying, HighFlying, LoudQuacking, and QuietQuacking. LowFlying and HighFlying belong to the IFlyBehavior family. LoudQuacking and QuietQuacking belong to the IQuackBehavior family.</p>
<p><strong><em>&ldquo;Strategy lets the algorithm vary independently from clients that use it&rdquo;</em>:</strong> <br>
Each &ldquo;Concrete Strategy Class&rdquo; has its own independent behavior. These concrete implementations of the IFlyBehavior and IQuackBehavior families can be completely different from one another.</p>
<p><strong><em>&ldquo;make them interchangeable&rdquo;</em>:</strong><br>
Concrete behaviors can be easily swapped out (as long as they implement the same interface). For example, you can introduce a new class FastFlying that implements IFlyBehavior. Then, you can simply assign the behavior new <code>FastFlying()</code> to <code>duck1</code> instead of the behaviour <code>new LowFlying()</code>. Here, the algorithm gets decoupled from the one that is using the algorithm. Whoever is using the algorithm is not forced to change when one of the algorithms is changed.</p>
<h2 id="when-should-you-use-this-pattern">
  When should you use this pattern?
  <a class="heading-link" href="#when-should-you-use-this-pattern">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>
<p>Use the Strategy pattern when you want to use different variants of an algorithm within an object and be able to switch from one algorithm to another during runtime.</p>
</li>
<li>
<p>Use the Strategy when you have a lot of similar classes that only differ in the way they execute some behavior.</p>
</li>
<li>
<p>Use the pattern to isolate the business logic of a class from the implementation details of algorithms that may not be as important in the context of that logic.</p>
</li>
<li>
<p>Use the pattern when your class has a massive conditional statement that switches between different variants of the same algorithm.</p>
</li>
</ul>
<h2 id="reference">
  Reference
  <a class="heading-link" href="#reference">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="books">
  Books
  <a class="heading-link" href="#books">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p>Erich Gamma, Richard Helm, Ralph Johnson and John Vlissides: <em>Design Patterns ‚Äì Elements of Reusable Object-Oriented Software</em>, Publisher: Addison-Wesley, Year: 1995, ISBN: 0201633612</p>
</li>
<li>
<p>Eric Freeman, Elisabeth Robson, Kathy Sierra and Bert Bates: <em>Head First Design Patterns: Building Extensible and Maintainable Object-Oriented Software 2nd Edition</em>, Publisher: O&rsquo;REILLY, Year: 2021, ISBN: 9781492078005</p>
</li>
</ul>
<h3 id="videos">
  Videos
  <a class="heading-link" href="#videos">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Video from Christopher Okhravi: <em>Strategy Pattern ‚Äì Design Patterns (ep 1)</em>, URL: <a href="https://www.youtube.com/watch?v=v9ejT8FO-7I"  class="external-link" target="_blank" rel="noopener">https://www.youtube.com/watch?v=v9ejT8FO-7I</a>, Last Access: 13th September 2024.</li>
</ul>
<h3 id="websites">
  Websites
  <a class="heading-link" href="#websites">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p>Refactoring Guru Website: <em>Strategy</em>, URL: <a href="https://refactoring.guru/design-patterns/strategy"  class="external-link" target="_blank" rel="noopener">https://refactoring.guru/design-patterns/strategy</a>, Last Access: 13th September 2024.</p>
</li>
<li>
<p>Refactoring Guru Website: <em>Strategy in Java</em>, URL: <a href="https://refactoring.guru/design-patterns/strategy/java/example"  class="external-link" target="_blank" rel="noopener">https://refactoring.guru/design-patterns/strategy/java/example</a>, Last Access: 13th September 2024.</p>
</li>
</ul>

      </div>


      <footer>
        


        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
    2024
     Johannes Gerstbauer 
    ¬∑
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
