<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  The Factory Method Pattern · gersti.at
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Johannes Gerstbauer">
<meta name="description" content="Article explaining the Factory Method Design Pattern by Gang of Four.">
<meta name="keywords" content="blog, developer, software, engineer">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The Factory Method Pattern"/>
<meta name="twitter:description" content="Article explaining the Factory Method Design Pattern by Gang of Four."/>

<meta property="og:title" content="The Factory Method Pattern" />
<meta property="og:description" content="Article explaining the Factory Method Design Pattern by Gang of Four." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gersti.at/todo/factory-method-pattern/" /><meta property="article:section" content="TODO" />
<meta property="article:published_time" content="2024-01-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-01-24T00:00:00+00:00" />




<link rel="canonical" href="https://gersti.at/todo/factory-method-pattern/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.e1bdf152d93b060b06ba5d496486ed9c201a8b95d335e035beb5faebe3b61cad.css" integrity="sha256-4b3xUtk7BgsGul1JZIbtnCAai5XTNeA1vrX66&#43;O2HK0=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      gersti.at
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">About</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/de/">🇩🇪</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="https://gersti.at/todo/factory-method-pattern/">
          The Factory Method Pattern
        </a>
      </h1>
    </header>

    <h1 id="overview">
  Overview
  <a class="heading-link" href="#overview">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>The Factory Method Design Pattern is oftentimes just called &ldquo;Factory Pattern&rdquo;. However to be specific, it is called &ldquo;Factory Method design Pattern&rdquo; in the original GoF Book.</p>
<figure><img src="/images/factory-method-pattern/factory-method-image.png"
         alt="A sketch depicting an example of the Factory Method Pattern (Source: Refactoring-Guru). We have a LogisticsFactory that creates logistics. It has two Subfactories. The one factory creates Trucks and the other factory creates ships."/><figcaption>
            <p>A sketch depicting an example of the Factory Method Pattern (Source: <a href="https://refactoring.guru/design-patterns/factory-method"  class="external-link" target="_blank" rel="noopener">Refactoring-Guru</a>). We have a LogisticsFactory that creates logistics. It has two Subfactories. The one factory creates Trucks and the other factory creates ships.</p>
        </figcaption>
</figure>

<h1 id="intent">
  Intent
  <a class="heading-link" href="#intent">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p><em>Define an interface for creating an object, but let subclasses decide which class to instantiate. Factory Method lets a class defer instantiation to subclasses.</em></p>
<p>Simply put:
In the end, i want to have an object created. However I don&rsquo;t necessarily know how I want to create that object or why I want to create that object or which parameter I have to pass when constructing that object. These are all unknowns and thats why I want to defer the instantiation process to a Factory/Factories.</p>
<h1 id="pattern-type">
  Pattern-Type
  <a class="heading-link" href="#pattern-type">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Das Factory-Method Pattern fällt unter die Kategorie &ldquo;Creational Pattern&rdquo;, weil dieses Pattern eine Möglichkeit bietet, Objekte zu erstellen. Mithilfe dieses Patterns kann man Objekte erstellen, ohne dass man die Erstellungslogik der Objekte preis gibt (herzeigt).</p>
<h1 id="structure">
  Structure
  <a class="heading-link" href="#structure">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Structure described (similar) as in the original GoF Design Patterns Book by Erich Gamma et. al (S. 108)</p>
<figure><img src="/images/factory-method-pattern/factory-method.png"/>
</figure>

<ul>
<li><strong>Product</strong>: Defines the interface of objects the factory method creates.</li>
<li><strong>Concrete Product</strong>: A class that implements the Product Interface.</li>
<li><strong>Factory</strong>: Defines the interface of factories, that create Products. It declares the factory method, which returns an object of type product.</li>
<li><strong>Concrete Factory</strong>: A class that implements/overrides the factory method to return an instance of a Concrete Product.</li>
</ul>
<p>Note: Statt den Interfaces Product und Factory können auch abstrakte Klassen oder &ldquo;normale&rdquo; Klassen verwendet werden, von denen dann jeweils die anderen Klassen erben. Es kommt immer auf die jeweilige Situation an, was besser passt.</p>
<p>Wie verwendet der Client das Factory-Method Pattern? Hier ein Beispiel für die Instantiierung einer Form:</p>
<p>Anstatt</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Shape</span> <span class="n">shape1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">();</span>
</span></span></code></pre></div><p>kann man mithilfe des Factory-Method Patterns</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Shape</span> <span class="n">shape1</span> <span class="o">=</span> <span class="n">shapeFactory</span><span class="o">.</span><span class="na">getShape</span><span class="o">(</span><span class="s">&#34;circle&#34;</span><span class="o">);</span>
</span></span></code></pre></div><p>machen.</p>
<p>Wie die Objekte erstellt werden, also die Logik, kann somit versteckt werden.</p>
<h1 id="the-problem">
  The Problem
  <a class="heading-link" href="#the-problem">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Why do we need this pattern? Why do we need such a thing as a factory?</p>
<p>In OOP verwendet man überall im Code viele Objekte. Irgendwo müssen diese Objekte auch instanziiert werden.</p>
<p>Die Konstruktion eines Objekts wird ausgelagert (in eine Factory).</p>
<p>Factory method pattern says: When you are about to instantiate a new Object, lets encapsulate that instantiation so that we can make it uniform across all places. You can use the factory whenever you want to instantiate and the factory is responsible for instantiating approperately. Es ist also eine Art &ldquo;Wrapper&rdquo; rundum das <code>new</code> keyword. Why do you want to create such a wrapper?</p>
<ol>
<li>
<p>It could be possible, that the instantiation process is very complex. For instance it could be that you need a lot of business logic to determine which parameters you have to pass to the constructor of the Objects you want to create. Or you need a lot of business logic to determine which type of objects you actually want to construct. Then the Factory Method pattern comes in handy because you can encapsulate that instantiation process. Because what if you would need the same instantiation process multiple times in different parts of your code? Then you could use the same Factory at all that different parts to construct that object. In this way you avoid code duplication (copy and pasting code).</p>
</li>
<li>
<p>Polymorphism: If you have a Factory that wraps your costruction and if that factory is an instance, then you can swap that instance (at runtime) for an instance of another Factory (Vorrausgesetzt die beiden Factories implementieren natürlich dasselbe Interface).</p>
</li>
<li>
<p>Example: You have a Dog, Cat and Duck class which all implement the IAnimal interface. In the main method, you want to instantiate one of these three concrete classes. However when the program enters the main method, it does not know which one of these three classes it wants to instantiate. Maybe you want to randomize which one of these classes have to be instantiated.</p>
</li>
</ol>
<p>The Factory is responsible for holding &ldquo;the business Logic of creation&rdquo; of something of a particular shared type (for instance IAnimal). It is responsible for a particular creation mechanism of Animals.</p>
<h1 id="an-example-for-the-pattern">
  An example for the Pattern
  <a class="heading-link" href="#an-example-for-the-pattern">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<figure><img src="/images/factory-method-pattern/factory-method-detail.jpg"/>
</figure>

<p>&hellip; Hier das Beispiel auf dem Bild erklären &hellip;</p>
<p>Zum gezeichneten Beispiel:</p>
<p>BlueShapeFactory und RedShapeFactory sind zwei versschiedene ShapeFactories, die Shapes erzeugen. Sie erzeugen die Shapes auf unterschiedliche Weise.
In der Main-Methode könnte dann z.b. soetwas stehen:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Shape</span> <span class="n">shape</span> <span class="o">=</span> <span class="n">redShapeFactory</span><span class="o">.</span><span class="na">getShape</span><span class="o">(</span><span class="s">&#34;Square&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="n">shape</span><span class="o">.</span><span class="na">draw</span><span class="o">();</span>
</span></span></code></pre></div><p>Man kann also unterschiedliche und beliebig viele Factories erstellen, die Objekte auf unterschiedliche Weise erstellen.</p>
<p>Bei dem Factory Method Pattern erzeugt jede konkrete Factory jeweils nur ein Objekt. Das ist der Unterschied zum Abstract-Factory-Pattern. Beim Abstract-Factory-Pattern erzeugt jede konkrete Factory <strong>mehrere</strong> unterschiedliche Objekte.</p>
<h1 id="reference">
  Reference
  <a class="heading-link" href="#reference">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<ul>
<li>
<p><a href="https://www.tutorialspoint.com/design_pattern/factory_pattern.htm"  class="external-link" target="_blank" rel="noopener">https://www.tutorialspoint.com/design_pattern/factory_pattern.htm</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=EcFVTgRHJLM"  class="external-link" target="_blank" rel="noopener">https://www.youtube.com/watch?v=EcFVTgRHJLM</a></p>
</li>
<li>
<p>Book: Design Patterns - Elements of Reusable Object-Oriented Software (1995 Addison-Wesley) by
Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides</p>
</li>
<li>
<p><a href="https://refactoring.guru/design-patterns/factory-method"  class="external-link" target="_blank" rel="noopener">https://refactoring.guru/design-patterns/factory-method</a></p>
</li>
<li>
<p>University Lecture called “Software Design Methods” by
Ing. Dr. Hans J. Prüller, B.Sc.
Personal website: <a href="https://hansprueller.lbs-logics.com/"  class="external-link" target="_blank" rel="noopener">https://hansprueller.lbs-logics.com/</a></p>
</li>
<li>
<p>Head First Design Patterns Book</p>
</li>
</ul>

  </article>
</section>

  

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2024
     Johannes Gerstbauer 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
